<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' gap:; style-src 'self' 'unsafe-inline'; media-src *" />
    <link rel="stylesheet" type="text/css" href="css/css_index.css">
    <title>Hello World</title>
</head>
<body>
    <div id="btn_grp">
<button class="tablink" onclick="openPage('Frameeg1', this)" onmouseover="closebtndis(this)" onmouseout="closebtnin(this)">new 0.txt
  <span onclick="closePage('Frameeg1',this)" class="closebtn">X</span>
</button>
<button class="tablink" onclick="openPage('Frameeg2', this)" onmouseover="closebtndis(this)" onmouseout="closebtnin(this)">index.html
  <span onclick="closePage('Frameeg2',this)" class="closebtn">X</span>
</button>
<button class="tablink" onclick="openPage('Frameeg3', this)" onmouseover="closebtndis(this)" onmouseout="closebtnin(this)">new 1.txt
  <span onclick="closePage('Frameeg3',this)" class="closebtn">X</span>
</button>
<button class="tablink" onclick="openPage('Frameeg4', this)" onmouseover="closebtndis(this)" onmouseout="closebtnin(this)">index 1.html
  <span onclick="closePage('Frameeg4',this)" class="closebtn">X</span>
</button>
</div>

<div id="Frameeg1" class="tabcontent">
<iframe src="coding_area.html"></iframe>
</div>
<div id="Frameeg2" class="tabcontent">
<iframe src="coding_area.html"></iframe>
</div>
<div id="Frameeg3" class="tabcontent">
<iframe src="coding_area.html"></iframe>
</div>
<div id="Frameeg4" class="tabcontent">
<iframe src="coding_area.html"></iframe>
</div>

<script src="js/close.js"></script>
<script src="js/open.js"></script>
<script src="js/general_script_index.js"></script>
<script>
const {ipcRenderer}=require('electron');
//newFile
ipcRenderer.on('newFile', function(event,args){
  var btn = document.createElement("button");
  btn.setAttribute("class","tablink");
  btn.setAttribute("onclick","openPage('Frameeg5', this)");
  btn.setAttribute("onmouseover","closebtndis(this)");
  btn.setAttribute("onmouseout","closebtnin(this)");
  btn.innerHTML="untitled."+args;

  var sp=document.createElement("span");
  sp.setAttribute("onclick","closePage('Frameeg5',this)");
  sp.setAttribute("class","closebtn");
  sp.innerHTML="X";

  btn.appendChild(sp);
  document.getElementById("btn_grp").appendChild(btn);

  var div_frm=document.createElement("div");
  div_frm.setAttribute("id","Frameeg5");
  div_frm.setAttribute("class","tabcontent");

  var ifrm=document.createElement("iframe");
  ifrm.setAttribute("src","coding_area.html");

  div_frm.appendChild(ifrm);
  document.body.appendChild(div_frm);

  btn.click();
});

//saveFile
  ipcRenderer.on('saveFile', function(event,args){
    var tabcontent=document.getElementsByClassName("tabcontent");
    var currentArea;
    for(i=0;i<tabcontent.length;i++){
      if(tabcontent[i].style.display=="block"){
        currentArea="Frameeg"+(i+1);
        alert(currentArea);
        break;
      }
    }
    var ifrm=document.getElementById(currentArea).children[0];
    var yx=ifrm.contentWindow.document;
    yx.getElementById("Save").click();
  });
</script>

</body>
</html>
