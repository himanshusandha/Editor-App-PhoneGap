<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' gap:; style-src 'self' 'unsafe-inline'; media-src *" />
    <link rel="stylesheet" type="text/css" href="css/index.css" />
    <title>Hello World</title>
</head>
<body>
	<h1>Himanshu</h1>
    <div id="listing">
      <ol id="myOl" onkeyup="myOl_keyup(event)" onclick="myOl_click_selectrow(event)" onkeydown="myOl_keydown(event)" contenteditable="true">
        <li></li>
      </ol>
    </div>
	 <br><br>
    <input type="file" id="fileLoader" />
    <input type="button" id="Save" value="Save File" onclick="saveFile()" />
  </body>
	<script>
	 document.getElementById("fileLoader").onchange=function(){
    var file=document.getElementById("fileLoader").files[0];
    var fileReader=new FileReader();
    fileReader.onload=function(e){
    var getText=e.target.result;
    showdata(getText);
    }
    fileReader.readAsText(file,"UTF-8");
  };

  function showdata(getText) {
    var stri=getText.split("\n");
    for (i = 0; i < stri.length; i++) {
      var y =document.createElement("LI");
      y.textContent=stri[i];
      document.getElementById("myOl").appendChild(y);
      row_num++;
    }
  }

  function saveFile(){
	  data();
    var textBLOB=new Blob([saveText],{type:"text/plain"});
    var fileName="new 0";
    var link=document.createElement("a");
    link.download=fileName;
    link.innerHTML="Download File";
    if(window.URL!=null){
      link.href=window.URL.createObjectURL(textBLOB);
    }else{
      link.href=window.URL.createObjectURL(textBLOB);
      link.onclick=destroy;
      link.style.display="none";
      document.body.appendChild(link);
    }
    link.click();
    saveText="";
  }
  function destroy(e){
    document.body.removeChild(e.target);
  }

  var saveText=" ";
  function data() {
    var n=document.getElementById("myOl").childElementCount; /*length start with 1*/
    var c = document.getElementById("myOl").children;
    for (i = 0; i < n; i++) {
        saveText=saveText + c[i].textContent + "\n";
      }
    }
  </script>
  <script src="setInterval_coloring_active.js"></script>
  <script src="myOl_click_selectrow.js"></script>
  <script src="myOl_keydown.js"></script>
  <script src="myOl_keyup.js"></script>
   <script type="text/javascript" src="cordova.js"></script>
   <script type="text/javascript" src="js/index.js"></script>
</body>

</html>
